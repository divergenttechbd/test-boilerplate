Perfect! Let's dive into the detailed documentation for the next part:

---

# ğŸ“ `src/assets/` â€“ Static Resources & Persistent System Assets

```markdown
# ğŸ“¦ assets/

The `assets/` folder contains various **non-code artifacts** that your NestJS application needs to function â€” from persistent queues and system-generated files to static images, logos, and preloaded templates.

These files are **used at runtime** but aren't part of the business logic or infrastructure abstraction.

This directory is **excluded from TypeScript compilation** and usually referenced via absolute or relative paths.

---

## ğŸ§­ Folder Structure Overview

```bash
src/assets/
â”œâ”€â”€ uploads/                 # ğŸ› ï¸ Uploaded files (reports, temp exports)
â”œâ”€â”€ generated/               # ğŸ› ï¸ System-generated files (reports, temp exports)
â”œâ”€â”€ jobs/                    # ğŸ“‹ Persistent queue-based jobs (used in FILE queue driver)
â”œâ”€â”€ queue-persistence/       # ğŸ—ƒï¸ Temporary queue-related data storage
â”œâ”€â”€ static/                  # ğŸ–¼ï¸ Static content (logos, banners, templates)
â””â”€â”€ README.md                # ğŸ“˜ Documentation on asset usage
```

---

## ğŸ–¼ï¸ `uploads/`

### Purpose

Read-only Uploaded  files uploaded by user:

---

## ğŸ› ï¸ `generated/`

### Purpose

Holds **temporary files generated by the system**, including:

- PDF reports
- Exported spreadsheets
- Charts, images, etc.
- Temporary files (e.g., CSV from import jobs)

### Notes

- Automatically cleaned every 24 hours (configurable via env).
- Path used by services like `FileGeneratorService`.

### Example File Paths

```
src/assets/generated/invoice_2024_01.pdf
src/assets/generated/report_user_growth.xlsx
```

---

## ğŸ“‹ `jobs/`

### Purpose

Used when the system queue configuration is set to `FILE` as the backend (fallback or cost-efficient setup).

Each job is saved as a `.json` file with retry, metadata, and backoff details.

### File Naming

- UUID or slug-based job ID
- Subfolders per job type (optional)

### Example Job File

```json
{
  "jobId": "notif-sms-uuid",
  "payload": {
    "message": "Hi there!",
    "phone": "+123456789"
  },
  "retryCount": 0,
  "status": "queued"
}
```

### Cleanup

- Stale/failed jobs tracked by metadata
- Cleanup policies configurable (e.g., keep failed for 7 days)

---

## ğŸ—ƒï¸ `queue-persistence/`

### Purpose

Stores transient metadata or logs for queue runners, especially if Redis/other drivers are not used.

May include:

- `jobStatus.json` â€“ live queue job statuses
- `failedJobs.json` â€“ logs of failed job attempts
- `worker-metrics.json` â€“ performance, stats, etc.

### Example

```json
{
  "lastProcessed": "2025-04-22T13:15:00Z",
  "activeWorkers": 3,
  "failedJobs": 12
}
```

---

## ğŸ–¼ï¸ `static/`

### Purpose

Read-only static assets bundled with your app:

- Logos
- Email banner images
- HTML template files
- JSON/YAML config templates
- Legal disclaimers or static content files

### Example Files

- `company-logo.png`
- `invoice-template.html`
- `terms-and-conditions.txt`

### Access

- Read directly from filesystem
- Used in email templates, webhooks, PDF generation

---

## ğŸ“˜ `README.md`

Provides documentation on:

- Cleanup policy for `generated/`
- File naming conventions
- How the system interacts with `jobs/`
- Access patterns and usage samples
- Asset backup and restoration practices

---

## âœ… Summary

The `assets/` directory is essential for:

- ğŸ“ File-based fallback systems (queues, job runners)
- ğŸ§¾ Temporary data exports
- ğŸ“ Static branding and templates
- ğŸ§¹ Configurable cleanup and archival

**Best Practices:**

- âœ… Always validate file access paths to avoid runtime errors
- âœ… Set proper .gitignore / .dockerignore rules
- âœ… Add cleanup cron jobs or schedule via `scheduler/`
- âœ… Use environment-based path resolution (`process.env.FILE_EXTERNAL_BASE_PATH` for production)

---
