Perfect! Let's dive into the detailed documentation for the next part:

---

# 📁 `src/assets/` – Static Resources & Persistent System Assets

```markdown
# 📦 assets/

The `assets/` folder contains various **non-code artifacts** that your NestJS application needs to function — from persistent queues and system-generated files to static images, logos, and preloaded templates.

These files are **used at runtime** but aren't part of the business logic or infrastructure abstraction.

This directory is **excluded from TypeScript compilation** and usually referenced via absolute or relative paths.

---

## 🧭 Folder Structure Overview

```bash
src/assets/
├── uploads/                 # 🛠️ Uploaded files (reports, temp exports)
├── generated/               # 🛠️ System-generated files (reports, temp exports)
├── jobs/                    # 📋 Persistent queue-based jobs (used in FILE queue driver)
├── queue-persistence/       # 🗃️ Temporary queue-related data storage
├── static/                  # 🖼️ Static content (logos, banners, templates)
└── README.md                # 📘 Documentation on asset usage
```

---

## 🖼️ `uploads/`

### Purpose

Read-only Uploaded  files uploaded by user:

---

## 🛠️ `generated/`

### Purpose

Holds **temporary files generated by the system**, including:

- PDF reports
- Exported spreadsheets
- Charts, images, etc.
- Temporary files (e.g., CSV from import jobs)

### Notes

- Automatically cleaned every 24 hours (configurable via env).
- Path used by services like `FileGeneratorService`.

### Example File Paths

```
src/assets/generated/invoice_2024_01.pdf
src/assets/generated/report_user_growth.xlsx
```

---

## 📋 `jobs/`

### Purpose

Used when the system queue configuration is set to `FILE` as the backend (fallback or cost-efficient setup).

Each job is saved as a `.json` file with retry, metadata, and backoff details.

### File Naming

- UUID or slug-based job ID
- Subfolders per job type (optional)

### Example Job File

```json
{
  "jobId": "notif-sms-uuid",
  "payload": {
    "message": "Hi there!",
    "phone": "+123456789"
  },
  "retryCount": 0,
  "status": "queued"
}
```

### Cleanup

- Stale/failed jobs tracked by metadata
- Cleanup policies configurable (e.g., keep failed for 7 days)

---

## 🗃️ `queue-persistence/`

### Purpose

Stores transient metadata or logs for queue runners, especially if Redis/other drivers are not used.

May include:

- `jobStatus.json` – live queue job statuses
- `failedJobs.json` – logs of failed job attempts
- `worker-metrics.json` – performance, stats, etc.

### Example

```json
{
  "lastProcessed": "2025-04-22T13:15:00Z",
  "activeWorkers": 3,
  "failedJobs": 12
}
```

---

## 🖼️ `static/`

### Purpose

Read-only static assets bundled with your app:

- Logos
- Email banner images
- HTML template files
- JSON/YAML config templates
- Legal disclaimers or static content files

### Example Files

- `company-logo.png`
- `invoice-template.html`
- `terms-and-conditions.txt`

### Access

- Read directly from filesystem
- Used in email templates, webhooks, PDF generation

---

## 📘 `README.md`

Provides documentation on:

- Cleanup policy for `generated/`
- File naming conventions
- How the system interacts with `jobs/`
- Access patterns and usage samples
- Asset backup and restoration practices

---

## ✅ Summary

The `assets/` directory is essential for:

- 📁 File-based fallback systems (queues, job runners)
- 🧾 Temporary data exports
- 📎 Static branding and templates
- 🧹 Configurable cleanup and archival

**Best Practices:**

- ✅ Always validate file access paths to avoid runtime errors
- ✅ Set proper .gitignore / .dockerignore rules
- ✅ Add cleanup cron jobs or schedule via `scheduler/`
- ✅ Use environment-based path resolution (`process.env.FILE_EXTERNAL_BASE_PATH` for production)

---
